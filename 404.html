<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Essential -->
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		
		<!-- For Search Engines -->
		<meta name="description" content="A DELTARUNE Chapters 3-8 take, made for fun.">
		<meta name="keywords" content="deltarune, deltarune fanmade, deltarune fanproject">

		<!-- Card -->
		<meta property="og:title" content="ASTRAL DISC">
		<meta property="og:url" content="https://astraldisc.com/">
		<meta property="og:description" content="A DELTARUNE Chapters 3-8 take.">
		<meta property="og:image" content="https://astraldisc.com/assets/img/disc/new_shooting_star.png">
		<meta property="og:type" content="website">

		<!-- Twitter Card -->
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:site" content="@ASTRALDISC">
		<meta name="twitter:title" content="ASTRAL DISC">
		<meta name="twitter:description" content="A DELTARUNE Chapters 3-8 take.">
		<meta name="twitter:image" content="https://astraldisc.com/assets/img/disc/new_shooting_star.png">

		<!-- SEO stuff -->
		<meta name="revisit-after" content="7 days">
		<meta name="distribution" content="global">
		<meta name="robots" content="index, follow">

		<!-- Title & Favicon -->
		<title>You got lost.</title>
		<link rel="icon" type="image/png" href="./assets/img/favicon/astraldisc.png" />

		<!-- 404 page specific -->
		<base href="https://astraldisc.com">

		<!-- CSS -->
		<link href="./css/reset.css" rel="stylesheet" type="text/css" media="all" />
		<link href="./css/templates.css" rel="stylesheet" type="text/css" media="all" />
		
		<style>
			.notfound-text {
				text-align: center;
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
			}
		</style>
	</head>
	<body>
		<init-component></init-component>
		<script src="./js/components/init.js"></script>
		
		<main></main>
		
		<script src="./js/soundfx.js"></script>
		<script>
			const previousPage = document.referrer; 
			console.log(document.referrer);
			// const currentPath = window.location.pathname;
		
			const mainElement = document.querySelector('main');
			const headElement = document.head;
		
			const changeFavicon = (href) => {
				let favicon = document.querySelector('link[rel="icon"]');
				if (favicon) {
					favicon.href = href;
				} else {
					favicon = document.createElement('link');
					favicon.rel = 'icon';
					favicon.type = 'image/png';
					favicon.href = href;
					headElement.appendChild(favicon);
				}
			};
		
			const loadStylesheet = (href) => {
				const link = document.createElement('link');
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = href;
				headElement.appendChild(link);
			};
		
			if (previousPage.includes('/blog')) {
				changeFavicon('../assets/img/favicon/blog_favicon.png');
				loadStylesheet('../css/blog/logdaily.css');
		
				mainElement.innerHTML = `
					<div class="wrapper alert">
						<img alt="Lock" class="icon" src="./assets/img/blog/logdaily/denied.png">
						<span>[Oops! Looks like the page you were looking for is not available or doesn't exist.]</span>
					</div>
				`;
			} else {
				changeFavicon('./assets/img/favicon/astraldisc.png');
				loadStylesheet('./css/disc/main.css');
		
				mainElement.innerHTML = `
					<div class="notfound-text">
						<a href="./">
							<img class="default pixelated" onmouseenter="doorOpen()" width="108" height="177" src="./assets/img/404/door.gif">
							<img class="hover pixelated" onmouseleave="doorClose()" width="108" height="177" src="./assets/img/404/door_open.png">
						</a>
					</div>
				`;
			}
		</script>
		
		<cookies-component></cookies-component>
		<script src="./js/components/cookies.js"></script>
	</body>
</html>